"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[504],{2504:(e,i,t)=>{t.r(i),t.d(i,{default:()=>W});var n=t(2110),r=t(4496),l=t(4516),a=t(7561),s=t(1292),d=t(5353),o=t(4077),h=t(9859),c=t(3845),x=t(6990),g=t(3217),m=t(8734),p=t(1906),v=t(1806),u=t(4882),j=t(3460),f=t(39),A=t(9650),b=t(9033),w=t(8076),y=t(1596),k=t(5043),P=t(2097),S=t(4858),_=t(579);const C=[{id:"poster_path",label:"Poster",minWidth:170},{id:"original_title",label:"Title",minWidth:100},{id:"genre_ids",label:"Genres",minWidth:100},{id:"overview",label:"Description",minWidth:200},{id:"release_date",label:"Release Date",minWidth:100},{id:"vote_average",label:"Average vote",minWidth:100,format:e=>e.toFixed(2)},{id:"vote_count",label:"Vote count",minWidth:100,format:e=>e.toFixed(2)}],W=()=>{var e,i;const[t,W]=(0,k.useState)(0),[F,D]=(0,k.useState)(10),[H,E]=(0,k.useState)(1),[I,L]=(0,k.useState)(" "),{data:R,error:T,isLoading:V}=(0,P.Lg)({page:H,genres:I}),{data:$}=(0,P.t$)(),{register:G,control:M,getValues:N}=(0,S.mN)(),[q,z]=(0,k.useState)("Matrix"),{data:O}=(0,P.RH)({query:q,page:H}),[B,J]=(0,k.useState)(!0),K={PaperProps:{style:{maxHeight:224,width:250}}},[Q,U]=(0,k.useState)([]),X=e=>{U(e.target.value)};return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("div",{children:(0,_.jsx)("form",{children:(0,_.jsxs)(n.A,{variant:"outlined",children:[(0,_.jsx)(r.A,{component:"h1",variant:"h4",sx:{width:"100%",fontSize:"clamp(2rem, 10vw, 2.15rem)"},children:"Search movies"}),(0,_.jsx)(r.A,{component:"h5",variant:"h5",sx:{width:"100%"},children:"Choose one filter and search the movies"}),(0,_.jsxs)(l.A,{component:"form",sx:{display:"flex",flexDirection:"row",gap:2},children:[(0,_.jsxs)(a.A,{sx:{m:1,width:300},children:[(0,_.jsx)(s.A,{htmlFor:"movie_title",children:"Title"}),(0,_.jsx)(d.A,{type:"text",className:"form-control",id:"movie_title",...G("title"),variant:"outlined",autoFocus:!0})]}),(0,_.jsxs)(a.A,{sx:{m:1,width:300},children:[(0,_.jsx)(s.A,{htmlFor:"genres_movie",children:"Genres"}),(0,_.jsx)(S.xI,{name:"genres",control:M,render:e=>{let{field:i}=e;return(0,_.jsx)(o.A,{...i,...G("genres"),multiple:!0,labelId:"multiple-checkbox-genres-label",id:"genres_movie",value:Q,onChange:X,input:(0,_.jsx)(h.A,{label:"Tag"}),renderValue:e=>(0,_.jsx)(l.A,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:e.map((e=>(0,_.jsx)(c.A,{label:null===$||void 0===$?void 0:$.genres.find((i=>i.id===e)).name},e)))}),MenuProps:K,children:null===$||void 0===$?void 0:$.genres.map((e=>(0,_.jsxs)(x.A,{value:e.id,children:[(0,_.jsx)(g.A,{checked:Q.includes(e.id)}),(0,_.jsx)(m.A,{primary:e.name})]},e.id)))})}})]}),(0,_.jsx)(p.A,{sx:{m:4,width:300,height:55},variant:"contained",onClick:()=>{let e=N(["title","genres"]);if(e[0])J(!1),z(e[0]),E(1);else if("object"===typeof e[1]&&e[1].length>0){let i="";e[1].forEach((e=>{i=i+e+"%2C"})),L(i),J(!0),E(1)}else L(""),J(!0),E(1)},children:"Search"})]})]})})}),T&&(0,_.jsx)("div",{children:"An error ocurred when retrieving the movies. Please retry again."}),V&&(0,_.jsx)("div",{children:"Loading..."}),!V&&(0,_.jsxs)(y.A,{sx:{width:"100%",overflow:"hidden"},children:[(0,_.jsx)(A.A,{sx:{maxHeight:"auto"},children:(0,_.jsxs)(v.A,{stickyHeader:!0,"aria-label":"sticky table",children:[(0,_.jsx)(u.A,{children:(0,_.jsx)(w.A,{children:C.map((e=>(0,_.jsx)(f.A,{align:e.align,style:{minWidth:e.minWidth},children:e.label},e.id)))})}),(0,_.jsx)(j.A,{children:null===(e=B?R:O)||void 0===e?void 0:e.results.slice(t*F,t*F+F).map((e=>(0,_.jsx)(w.A,{hover:!0,role:"checkbox",tabIndex:-1,children:C.map((i=>{var t;let n=e[i.id];if("object"===typeof n&&null!==(t=n)&&void 0!==t&&t.length&&n.length>0){var r;let e="";null===(r=n)||void 0===r||r.forEach((i=>{null===$||void 0===$||$.genres.forEach((t=>{t.id===i&&(e=e+t.name+", ")}))})),n=e}return"release_date"===i.id&&(n=n.split("-").reverse().join("/")),(0,_.jsxs)(f.A,{align:i.align,children:[i.format&&"number"===typeof n?i.format(n):null,"string"===typeof n&&n.match(/\.(jpg|jpeg|png|gif|svg)$/i)?(0,_.jsx)("img",{src:`https://image.tmdb.org/t/p/w500${e.poster_path}`,width:200,height:150,alt:""}):n]},i.id)}))},e.id)))})]})}),(0,_.jsx)(b.A,{rowsPerPageOptions:[10,25,100],component:"div",count:null===(i=B?R:O)||void 0===i?void 0:i.results.length,rowsPerPage:F,page:t,onPageChange:(e,i)=>{W(i)},onRowsPerPageChange:e=>{D(+e.target.value),W(0)}}),(0,_.jsxs)(l.A,{sx:{display:"flex",flexDirection:"row",gap:2,justifyContent:"right"},children:[(0,_.jsx)(p.A,{variant:"contained",onClick:()=>{E(H+1),W(0)},children:"See next page"}),(0,_.jsx)(p.A,{variant:"contained",onClick:()=>{H>=2&&E(H-1),W(0)},children:"See previous page"})]})]})]})}}}]);
//# sourceMappingURL=504.8a386c7a.chunk.js.map